%----------------------------------------------------------------------------------------------------------------------
% This file is the configuration file for K600 data. It should take the form of the global definitions at the top:
% ADCModules
% TDCModules
% NumberOfMMM/W1s
% Then, after that lot, the channel definitions for each detector which should be in the form:
% MMMADCChannels
% 1	FirstChannel	LastChannel
% 2	FirstChannel	LastChannel
% n	FirstChannel	LastChannel
% MMMADCChannels

% This should be repeated for all detectors (any detector not defined like this will be ignored.
% Then:
% MMMTDCChannels
% 1	FirstChannel	LastChannel etc.
%
% This should be repeated for all types of detector in the system. If a new type of ancillary detector system is added, 
% the person doing that needs to add the information about how the configuration file should be read in in ReadConfiguration 
% in Parameters.c
%----------------------------------------------------------------------------------------------------------------------



ADCModules	5
TDCModules	7

NumberOfMMM	5

MMMADCChannels
1       pside   0       15
1       nside   80      87
2       pside   16      31
2       nside   88      95
3       pside   32      47
3       nside   96      103
4       pside   48      63
4       nside   104     111
5       pside   64      79
5       nside   112     119
MMMADCChannels

MMMTDCChannels
1       pside   672     687
1       nside   752     759
2       pside   688     703
2       nside   760     767
3       pside   704     719
3       nside   800     807
4       pside   720     735
4       nside   808     815
5       pside   736     751
5       nside   816     823
MMMTDCChannels


%NumberOfW1	2

%W1ADCChannels
%1	pside	0	15
%1	nside	32	47
%2	pside	16	31
%2 	nside	48	63
%W1ADCChannels

%W1TDCChannels
%1	pside	816	831
%1	nside	848	863
%2	pside	832	847
%2	nside	863	879
%W1TDCChannels

%----------------------------------------------------------------------------------------------------------------------
%                If Hagar is present, next line should read 'yes' otherwise it should read 'no'
%----------------------------------------------------------------------------------------------------------------------
%HagarUsed no

%HagarADCChannels
%96	103
%HagarADCChannels

%HagarTDCChannels
%688	695
%HagarTDCChannels

%----------------------------------------------------------------------------------------------------------------------
%                If CLovers are present, next line should read 'yes' otherwise it should read 'no'
%----------------------------------------------------------------------------------------------------------------------
%CloverUsed yes

%NumberOfClover 4

%CloverADCChannels
%1 160 163
%2 164 167
%3 168 171
%4 172 175
%CloverADCChannels

%CloverTDCChannels
%1 880 883
%2 884 887
%3 888 891
%4 892 895
%CloverTDCChannels

%----------------------------------------------------------------------------------------------------------------------
% If other scintillators are present, next line should read 'yes' otherwise it should read 'no'
%----------------------------------------------------------------------------------------------------------------------
ScintillatorUsed yes

NumberOfScintillator 2

ScintillatorADCChannels
1 129
2 130
ScintillatorADCChannels

ScintillatorTDCChannels
1 785
2 786
ScintillatorTDCChannels


%----------------------------------------------------------------
% 	VDC related issues
%----------------------------------------------------------------

VDC1 new
VDC2 old

VDCSeparationDistanceZ 263
VDCSeparationDistanceX 370

ThFPSCATOffsetTerms 3
0 1
1 20.529 
2 -0.003041
EndThFPSCATOffsetTerms

ThFPSCATSlopeTerms 3
0 1
1 -0.5495
2 -0.00002657
EndThFPSCATSlopeTerms

ThSCATCorrectionTerms 4
0 1
1 -3.1799
2 -0.10615
3 0.0042865
EndThSCATCorrectionTerms

Y1CorrectionTerms 3
0 1
1 +0.0
2 +0.0
EndY1CorrectionTerms

%----------------------------------------------------------------------------------------------------------------------
% If, like me, you do a momentum/rigidity calibration of the focal plane, you need to put in your calibration 
% in the section below - Brho comes from a quadratic fit of the focal plane currently but you can use higher 
% or lower-order polynomials by changing the number after RigidityCalibration
%----------------------------------------------------------------------------------------------------------------------

RigidityCalibration 3
0 3.79765
1 3.24097e-4
2 2.40685e-8
EndRigidityCalibration

%----------------------------------------------------------------
% 	Kinematics related issues
%----------------------------------------------------------------

% BeamEnergy given in MeV
BeamEnergy 100

InelasticScattering false

ScatteringAngle 0

% 4He
mass1 3728.400952
% 24Mg
% mass2 22341.92265
% 26Mg
% mass2 24202.62965
% 27Al
% mass2 25133.14158
% 28Si 
% mass2 26060.33946
% masses 3 and 4 only need to be defined for reactions that are not inelastic scattering
% mass3
% mass4 

%----------------------------------------------------------------------------------------------------------------------
% File for calibration stuff - should be of the form: channel offset gain E = off + gain*adcValue
% Now, if the calibration should not be set, change the file name to 'ignore'
% The calibration file should terminate with a line reading 'eof'
%----------------------------------------------------------------------------------------------------------------------
CalibrationFile	CalibParsPR240.dat

%----------------------------------------------------------------------------------------------------------------------
% File for X1 Mapping
% Due to (mostly SSC related RF) changes/drifts, the peaks in the focal plane spectrum may change slightly,
% but significantly, from run to run. 
% Your job is to determine those changes relative to a zeroth run and put them in the X1Mappings file
% in the form:   run number  par0 par1 ... parN (for N'th order mapping)
% Now, if no such mappings are to be used, change the file name to 'ignore' and the nr to 0
% Final and important note: the X1 mappings file should terminate with a line reading 'eof'
%----------------------------------------------------------------------------------------------------------------------
%NrOfX1Offsets	0
%XOffsetsFile	ignore
XMappingsFile	PR240_XMappings.dat
%NrOfX1Mappings	0
%XMappingsFile	ignore

%----------------------------------------------------------------------------------------------------------------------
% File for Total Lineshape Correction (TLC)
% Final and important note: the TLC file should terminate with a line reading 'eof'
%----------------------------------------------------------------------------------------------------------------------
TLCParametersFile   PR240_TLCParameters.dat

%----------------------------------------------------------------------------------------------------------------------
% File for Pad1 offsets
%----------------------------------------------------------------------------------------------------------------------
NrOfPadOffsets  17
PadOffsetsFile  PR240_pad1offsets.dat

%----------------------------------------------------------------------------------------------------------------------
% File for tof offsets
% Due to SSC related RF changes, the pid may change slightly, but significantly, in time from run to run.
% Your job is to determine those changes relative to a zeroth run and put them in the TOFoffsets file
% in the form:   run number  delta-tof
% Now, if no such offsets are to be used, change the file name to 'ignore' and the nr to 0
% Final and important note: the offsets file should terminate with a line reading 'eof'
%----------------------------------------------------------------------------------------------------------------------
%NrOfTOFOffsets  0
%TOFOffsetsFile  ignore
NrOfTOFOffsets   17
TOFOffsetsFile   TOFoffsetsPR240.dat

%----------------------------------------------------------------------------------------------------------------------
% File for TDC Offsets - should be of the form: channel offset 
% Now, if the TDC offsets should not be set, change the file name to 'ignore'
% The calibration file should terminate with a line reading 'eof'
%----------------------------------------------------------------------------------------------------------------------
TDCOffsetsFile ignore

% Last line should be ConfigEnd so that the code knows that you are finished - otherwise it will not finish trying to read stuff in.
ConfigEnd
