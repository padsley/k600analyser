#================================
#   PR166 - WE2

#------------------------------------------------
#   Test runs

#   Pepperpot, 12C
#   12C target ("thin"), 0.3 mg/cm^2
#for COUNT in {22069}

#   Elastic, 12C
#   12C target ("thin"), 0.3 mg/cm^2
#for COUNT in {22072}

#   Elastic, 12C
#   12C target ("thick"), 1.052 mg/cm^2
#for COUNT in {22072}


#------------------------------------------------
#   Sorted by both TARGET and ANGLE

#============================================================================================================
#           WEEKEND 1: 10 Degrees
#============================================================================================================

#------------------------------------------------
#   TARGET LADDER SETUP 1
#------------------------------------------------
#   Target #3: 12C (1.052 mg/cm^2)
#   Target #4: 12C (300 ug/cm^2)

#----------------------------
#   12C target ("thick"), 1.052 mg/cm^2
#for COUNT in {}
#   Check whether these runs are "thin" or "thick"
#for COUNT in {22077,22078,22080,22082,22083,22088,22089,22090,22091,22092,22093,22094}

#------------------------------------------------
#   TARGET LADDER SETUP 2
#------------------------------------------------
#   Target #3: 12C (220 ug/cm^2)
#   Target #4: 12C (290 ug/cm^2)
#   Target #5: 12C (109 ug/cm^2)

#----------------------------
#   12C target (#3), 220 ug/cm^2, (~3cm towards spectrometer)
#for COUNT in {22279}
#----------------------------
#   12C target (#4), 290 ug/cm^2
#for COUNT in {22283,22284,22292,22293,22304,22305}
#----------------------------
#   12C target (#5), 109 ug/cm^2
#   Check run 22295 and onwards are without pepperpot
#for COUNT in {22278,22285,22286,22289,22290,22294,22295,22296,22297,22298,22299,22300,22301}

#----------------------------
#   Pepperpot: 12C target (#4), 290 ug/cm^2
#for COUNT in {22291,22292,22293}
#   Pepperpot: 12C target (#5), 109 ug/cm^2
#for COUNT in {22294}


#============================================================================================================
#           WEEKEND 1: 8 Degrees
#============================================================================================================

#------------------------------------------------
#   TARGET LADDER SETUP 2
#------------------------------------------------
#   Target #3: 12C (220 ug/cm^2)
#   Target #4: 12C (290 ug/cm^2)
#   Target #5: 12C (109 ug/cm^2)

#----------------------------
#   12C target (#3), 220 ug/cm^2
#for COUNT in {}
#----------------------------
#   12C target (#4), 290 ug/cm^2
#for COUNT in {22367}
#----------------------------
#   12C target (#5), 109 ug/cm^2
#for COUNT in {22364,22365,22368,22369,22370,22371,22372,22373,22374,22375,22376,22377,22378,22379}


#============================================================================================================
#           INCLUSIVE (WE1)
#============================================================================================================
#for COUNT in {22077,22078,22080,22082,22083,22088,22089,22090,22091,22092,22093,22094,22279,22283,22284,22286,22278,22285,22289,22290,22295,22296,22297,22298,22299,22300,22301,22304,22305,22367,22364,22365,22368,22369,22370,22371,22372,22373,22374,22375,22376,22377,22378,22379}


#============================================================================================================
#           WEEKEND 2: 8.5 Degrees
#============================================================================================================

#------------------------------------------------
#   TARGET LADDER SETUP 3
#------------------------------------------------
#   Target #3: 12C (220 ug/cm^2)
#   Target #4: 12C (290 ug/cm^2)
#   Target #5: Mylar (1.5 um thick)

#----------------------------
#   12C target (#3), 220 ug/cm^2
#for COUNT in {23115,23116,23117,23118,23119,23124}
#----------------------------
#   6812C target (#4), 290 ug/cm^2
#for COUNT in {23125,23128,23129}


#============================================================================================================
#           WEEKEND 2: 10.0 Degrees
#============================================================================================================

#------------------------------------------------
#   TARGET LADDER SETUP 3
#------------------------------------------------
#   Target #3: 12C (220 ug/cm^2)
#   Target #4: 12C (290 ug/cm^2)
#   Target #5: Mylar (1.5 um thick)

#----------------------------
#   12C target (#3), 220 ug/cm^2
#for COUNT in {}
#----------------------------
#   12C target (#4), 290 ug/cm^2
#for COUNT in {23153,23156,23157,23159,23163,23164,23165,23166,23168,23171,23173,23174,23176,23180,23181,23184,23186,23187,23189,23191}
#----------------------------
#   Mylar target (#5), 1.5 um thick
#for COUNT in {23161,23162}
#----------------------------
#   Halo
#for COUNT in {23190}

#Runs 23171 mislablled as 26171,26172 in logbook

#============================================================================================================
#           WEEKEND 2: 6.0 Degrees
#============================================================================================================

#------------------------------------------------
#   TARGET LADDER SETUP 3
#------------------------------------------------
#   Target #3: 12C (220 ug/cm^2)
#   Target #4: 12C (290 ug/cm^2)
#   Target #5: Mylar (1.5 um thick)

#----------------------------
#   12C target (#3), 220 ug/cm^2
#for COUNT in {}
#----------------------------
#   12C target (#4), 290 ug/cm^2
#   Check if 23268 has misalignment
#for COUNT in {23265,23266,23267,23268,23271,23276,23280,23281,23282,23283,23284,23285,23287,23288,23294,23296,23297,23298,23299,23300,23301}
#----------------------------
#   Mylar target (#5), 1.5 um thick
#for COUNT in {23272,23273,23293}
#----------------------------
#   Halo
#for COUNT in {}


#============================================================================================================
#           INCLUSIVE (WE2)
#============================================================================================================
#for COUNT in {23115,23116,23117,23118,23119,23124,23125,23128,23129,23153,23156,23157,23159,23163,23164,23165,23166,23168,23171,23173,23174,23176,23180,23181,23184,23186,23187,23189,23191,23161,23162,23190,23265,23266,23267,23268,23271,23276,23280,23281,23282,23283,23284,23285,23287,23288,23294,23296,23297,23298,23299,23300,23301,23272,23273,23293}



#//========================================
#//          COMBINED NUMBER 1
#//          WEEKEND 1: 8 Degrees
#//          Without the WE1 10 degrees (since there is scarce viable data at this angle for this weekend)
#for COUNT in {22364,22365,22368,22369,22370,22371,22372,22373,22374,22375,22377,22378,22379}

#//========================================
#//          COMBINED NUMBER 2
#//           WEEKEND 2: 8.5 Degrees
#//      Removed 23124
#for COUNT in {23115,23116,23117,23118,23119,23125,23128,23129}

#//========================================
#//          COMBINED NUMBER 3
#//           WEEKEND 2: 10.0 Degrees
#for COUNT in {23153,23156,23157,23159,23165,23166,23168,23171,23173,23174,23176,23180,23181,23184,23186,23187,23189,23191}

#//========================================
#//          COMBINED NUMBER 4
#//           WEEKEND 2: 6.0 Degrees
#for COUNT in {23265,23266,23267,23271,23276,23280,23281,23282,23283,23284,23285,23287,23288,23294,23296,23297,23298,23299,23300,23301};


#       COMB1 and COMB2
#for COUNT in {22364,22365,22368,22369,22370,22371,22372,22373,22374,22375,22377,22378,22379,23115,23116,23117,23118,23119,23125,23128,23129}

#       TEST
#for COUNT in {23265,33265}
#for COUNT in {22364,32364}

#============================================================================================================
#           INCLUSIVE (COMB 1, 2, 3 and 4)
#============================================================================================================
#           PRUNED
#for COUNT in {22364,22365,22368,22369,22370,22371,22372,22373,22374,22375,22377,22378,22379,23115,23116,23117,23118,23119,23125,23128,23129,23153,23156,23157,23159,23165,23166,23168,23171,23173,23174,23176,23180,23181,23184,23186,23187,23189,23191,23265,23266,23267,23271,23276,23280,23281,23282,23283,23284,23285,23287,23288,23294,23296,23297,23298,23299,23300,23301}

#============================================================================================================
#           INCLUSIVE (COMB 2, 3 and 4)
#============================================================================================================
#           PRUNED
for COUNT in {23115,23116,23117,23118,23119,23125,23128,23129,23153,23156,23157,23159,23165,23166,23168,23171,23173,23174,23176,23180,23181,23184,23186,23187,23189,23191,23265,23266,23267,23271,23276,23280,23281,23282,23283,23284,23285,23287,23288,23294,23296,23297,23298,23299,23300,23301}


#============================================================================================================
#           First run of each COMB (1, 2, 3 and 4)
#for COUNT in {22364,23115,23153,23265}

#for COUNT in {22364,22365,22368}


#//      Removed (low runs for target): 22279
#//      Removed (misalignment): 22080, 22082, 22083, 22089, 22090, 22092, 22093, 22367, 22367, 22376, 23163, 23164
#//      Removed (pepperpot): 22291, 22292, 22293, 22294
#//      Removed (no events): 23190, 23268, 23273
#//      Removed (strange focal plane spectrum): 23124
do

#====================================================
#       Directories for the data and sorted data

dataDirectory="/media/psf/DATA/PR166/data"
#dataDirectory="/media/psf/Home/Academic/Experiments/PR166_2011/data"

#sortedDirectory="/media/psf/Home/Academic/Experiments/PR166_2011/sorted"
#sortedDirectory="/media/psf/Home/Academic/Experiments/PR166_2011/sortedAutoTrim"
#sortedDirectory="/media/psf/Home/Academic/Experiments/PR166_2011/sortedTest"
sortedDirectory="/media/psf/Home/Academic/Experiments/PR166_2011/sortedNew"
#sortedDirectory="/media/psf/Home/Academic/Experiments/PR166_2011/sortedNew2"
#sortedDirectory="/media/psf/Home/Academic/Experiments/PR166_2011/sortedNoXMapping"

  echo $COUNT
  if [ $COUNT -lt 10 ]
  then
      FILE=$dataDirectory"/run0000"$COUNT".mid.gz"
  elif [ $COUNT -lt 100 ]
  then
      FILE=$dataDirectory"/run000"$COUNT".mid.gz"
  elif [ $COUNT -lt 1000 ]
  then
      FILE=$dataDirectory"/run00"$COUNT".mid.gz"
  elif [ $COUNT -lt 10000 ]
  then
      FILE=$dataDirectory"/run0"$COUNT".mid.gz"
  elif [ $COUNT -lt 100000 ]
  then
      FILE=$dataDirectory"/run"$COUNT".mid.gz"
  else
      echo "This might not work"
  fi
  echo $FILE
  if [ $COUNT -lt 10 ]
  then
      FILE2=$sortedDirectory"/sorted0000"$COUNT".root"
  elif [ $COUNT -lt 100 ]
  then
      FILE2=$sortedDirectory"/sorted000"$COUNT".root"
  elif [ $COUNT -lt 1000 ]
  then
      FILE2=$sortedDirectory"/sorted00"$COUNT".root"
  elif [ $COUNT -lt 10000 ]
  then
      FILE2=$sortedDirectory"/sorted0"$COUNT".root"
  elif [ $COUNT -lt 100000 ]
  then
      FILE2=$sortedDirectory"/sorted"$COUNT".root"
  else
      echo "This might not work"
  fi
  echo $FILE2
  if [ -e $FILE ]
  then
  
      echo $FILE
      ./analyzer -i $FILE
      mv output.root $FILE2
      
      
#      if [ ! -e $FILE2 ]
#      then
#      echo $FILE
#      ./analyzer -i $FILE
#      mv output.root $FILE2
#      cp output.root $FILE2
#      fi
  fi
done
